/* -------------------------------------------------------
   Site CSS — UC Berkeley theme (Blue header / Gold menu)
   ------------------------------------------------------- */

/* ===== Base / tokens ===== */
html { scrollbar-gutter: stable both-edges; }
:root{
  /* UC Berkeley palette */
  --ucb-blue: #003262;           /* Berkeley Blue */
  --ucb-blue-600:#01264c;        /* hover/deeper */
  --ucb-gold: #FDB515;           /* California Gold */
  --ucb-gold-700:#d49a10;        /* hover/darker */

  /* App tokens */
  --accent: var(--ucb-blue);
  --accent-bg: rgba(0, 50, 98, .10);
  --text: #333;
  --ink: #1b1b1b;                /* dark text on gold */
  --muted: #999;
  --border: #e6e6e6;
  --band-bg: #f8fbff;            /* legacy (used in tables, etc.) */
  --band-border: #e6efff;

  --h1: clamp(1.75rem, 1.2rem + 1.2vw, 2.25rem);
  --body: clamp(16px, 15px + .4vw, 18px);
}
* { box-sizing: border-box; }
body{
  font-family: "PT Serif", Georgia, "Times New Roman", serif;
  font-size: var(--body);
  color: #515151;
  line-height: 1.75rem;
  margin: 0;
}
h1 { font-size: var(--h1); margin: .5rem 0 .75rem; }
h1 a { text-decoration: none; }
h1, h2, h3, h4, h5, h6{
  font-family: "Quattrocento Sans", sans-serif;
  color: var(--text);
  margin: .25rem 0 .5rem;
}
a { text-decoration: underline; color: var(--text); }
a:hover { color: #000; border-bottom: none; }
img { max-width: 100%; height: auto; border-radius: 5px; }
blockquote{
  margin: 10px 20px; padding: 0 15px;
  border-left: .25em solid #ccc; color: #999; line-height: 1.5;
}
hr { border: 0; border-top: 1px solid #ccc; margin: 2rem 0; }

/* ===== Layout primitives ===== */
.container{ width: min(100%, 68rem); padding: 0 1rem; margin: 0 auto; }
@media (max-width: 768px){ .container{ width: 90vw; } }
.post-container{ margin-bottom:4rem; }
.posts{ margin-bottom:5rem; padding:0; list-style:none; }
.post-date{
  display:block; margin-top:3px; margin-bottom:1rem; color:#9a9a9a;
  font-family:"Quattrocento Sans",sans-serif; font-size:.8rem;
}
.related{ padding-bottom:2rem; }
.related-posts{ padding-left:0; list-style:none; }
.related-posts a{ text-decoration:none; }
.pagination{ overflow:hidden; font-family:"Quattrocento Sans",sans-serif; text-align:center; }
.pagination a{ text-decoration:none; }
.pagination-button{
  color:#999; border:1px solid #e0e0e0; padding:15px 45px; display:inline-block;
  font-size:16px; font-weight:bold;
}
.pagination-active{ color:#000; }
.pagination-active:hover{ background:#e0e0e0; }
.footer{ color:#999; text-align:center; margin:2rem; }
.footer a{ color:#999; padding:10px; text-decoration:none; }
.footer a:hover{ color:#333; }
/* ===== Homepage intro: text + image (side-by-side -> stacked on mobile) ===== */
.intro-wrap{
  display: grid;
  grid-template-columns: 1.2fr minmax(260px, 0.9fr);
  gap: clamp(14px, 2.2vw, 28px);
  align-items: start;
  margin: 0 0 1rem 0;
}

.intro-text p:first-child{ margin-top: 0; }

.intro-media{
  margin: 0;                 /* remove default figure margins */
}
.intro-media img{
  display: block;
  width: 100%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0,0,0,.10);
}
.intro-media figcaption{
  font-size: .9rem;
  color: #666;
  margin-top: .4rem;
  text-align: center;
}

/* Stack on smaller screens */
@media (max-width: 900px){
  .intro-wrap{
    grid-template-columns: 1fr;
  }
  .intro-media{ order: 2; }   /* ensures the image sits under the text */
}

/* ========================================================
   HEADER (masthead): Blue bar + title feather + subtitle badge
   ======================================================== */
.masthead{
  background: var(--ucb-blue);
  color: #fff;
  margin: 0 0 2rem 0;
  border-bottom: 1px solid rgba(255,255,255,.18);
  font-family:"Quattrocento Sans",sans-serif;
}
.masthead .masthead-wrap{
   display:flex; align-items:center; justify-content:space-between;
   gap: 1rem; flex-wrap: wrap;
   padding: 1.1rem clamp(12px, 2vw, 28px);
}
.masthead a{ color:#fff; }
.masthead a:hover{ color:#fff; }

.masthead .masthead-text{
  display:flex; align-items:center; gap:.75rem; flex-wrap:wrap;
}

/* Big title link with “white feather” glow so it pops on blue */
.site-title-link{
  font-size: clamp(1.6rem, 1.2rem + 1.6vw, 2.2rem);
  font-weight: 800;
  letter-spacing:.2px;
  text-decoration: none;
  color: #fff;
}
.site-title-link:hover,
.site-title-link:focus{
  text-decoration: underline;
  text-underline-offset: 4px;
}

/* Tagline + small crest/badge */
.site-tagline{
  display:inline-flex; align-items:center; gap:.5rem;
}
.masthead-subtitle{
  color: rgba(255,255,255,.9);
  line-height:1.25;
  font-size: clamp(.9rem, .82rem + .3vw, 1.05rem);
}
.desc-badge{
  border-radius:50%;
  width:auto; height: 40px;
  box-shadow:
    0 0 0 2px rgba(255,255,255,.9),
    0 0 10px rgba(0,0,0,.25);
}

/* If menu.html is placed inside header, push it right */
header.masthead .menu{ margin-left:auto; }

@media (max-width: 760px){
  .masthead .masthead-wrap{ flex-direction:column; align-items:flex-start; gap:.4rem; }
  .desc-badge{ height:34px; }
}

/* ========================================================
   MENU BAND: Gold bar with dark-blue text, clean dropdowns
   ======================================================== */
.nav-band{
  background: var(--ucb-gold);
  border-bottom: 1px solid var(--ucb-gold-700);
}
.nav-band .menu{
  max-width: 1200px;
  margin: 0 auto;
  padding: .35rem clamp(12px, 2vw, 28px);
  display:flex; align-items:center; justify-content:space-between;
  gap: 1rem; flex-wrap: wrap;
}

/* Collapsible control (mobile) */
.menu-collapsible{ order:0; }
.menu-summary{
  display:inline-flex; gap:6px; align-items:center;
  cursor:pointer; background:transparent; border:none; padding:.45rem .7rem; margin:0;
  font-weight:800; color: var(--ink); user-select:none; line-height:1.2; border-radius:8px;
}
.menu-summary::marker{ content:""; }
.menu-summary::-webkit-details-marker{ display:none; }
.menu-collapsible[open] .menu-summary::after{ content:"▲"; font-size:.8em; opacity:.8; }
.menu-collapsible:not([open]) .menu-summary::after{ content:"▼"; font-size:.8em; opacity:.8; }
.menu-summary:hover{ background: rgba(0,0,0,.06); }

/* Main nav row */
.nav-band .menu-content{
  order:2; display:flex; flex-wrap:wrap; align-items:center;
  gap:8px 12px; justify-content:center; flex:1 1 auto; min-width:260px;
}

/* Socials on right */
.nav-band .social-icons{
  order:1; margin-left:auto; display:flex; gap:8px;
}

/* Top-level links */
.nav-band .menu-link,
.nav-band .dropdown > .menu-link,
.nav-band .dropdown > .parent-link{
  display:inline-flex; align-items:center; gap:4px;
  padding:.45rem .6rem; border-radius:8px;
  color: var(--ink);
  text-decoration:none; cursor:pointer; user-select:none;
  font-size:1.05rem; line-height:1.35; font-weight:800;
}
.caret{ font-size:.8em; opacity:.75; }

.nav-band .menu-link:hover,
.nav-band .dropdown > .menu-link:hover,
.nav-band .dropdown > .parent-link:hover{
  background: rgba(0,0,0,.08);
}


/* Dropdowns */
.nav-band .dropdown{ position:relative; }
.nav-band .dropdown-content{
  position:absolute; top:calc(100% + 6px); left:0; display:none;
  min-width:220px; background:#fff; border:1px solid var(--border);
  border-radius:10px; padding:6px; box-shadow:0 10px 25px rgba(0,0,0,.12); z-index:1000;
}
.nav-band .dropdown-content a{
  display:block; padding:8px 10px; border-radius:8px; color:#222;
  text-decoration:none; font-weight:600; font-size:1rem;
}
.nav-band .dropdown-content a:hover{ background:#f3f3f3; }

/* Open behaviors */
@media (hover:hover) and (pointer:fine){
  .nav-band .dropdown:hover > .dropdown-content{ display:block; }
}
.nav-band .dropdown:focus-within > .dropdown-content{ display:block; }

/* Always keep the toggle visible and control visibility via [open] */
details.menu-collapsible .menu-content{ display:none; }
details.menu-collapsible[open] .menu-content{ display:flex; }


/* ===== Mobile menu (<=760px): FULL-WIDTH, LEFT-ALIGNED ===== */
@media (max-width:760px){
  .nav-band .menu{ justify-content:stretch; }

  /* hide list when collapsed */
  .nav-band details.menu-collapsible:not([open]) .menu-content{
    display:none !important;
  }

  /* vertical stack */
  .nav-band .menu-content{
    flex-direction: column;
    align-items: stretch;          /* left edges line up */
    width: 100%;
    gap: 8px;
    padding-top: 8px;
    justify-content: flex-start;
  }

  /* give each item full width */
  .nav-band .menu-content > a,
  .nav-band .menu-content > .dropdown{ width:100%; }

  /* ensure the label text itself is left-aligned */
  .nav-band .menu-link,
  .nav-band .dropdown > .menu-link,
  .nav-band .dropdown > .parent-link,
  .nav-band .dropdown > span.menu-link{
    display: inline-flex;
    justify-content: flex-start;
    text-align: left;
    width: 100%;
  }

  /* dropdown container full width; flyout centered and readable */
  .nav-band .dropdown{ width:100%; }
  .nav-band .dropdown-content{
    left:50%; transform:translateX(-50%);
    width:min(92vw, 28rem);
    box-shadow: 0 6px 18px rgba(0,0,0,.10);
  }

  /* hide socials only while the menu is open */
  .menu-collapsible[open] ~ .social-icons{ display:none !important; }
}

/* Social icons on gold */
.social-icons a{
  color: var(--ink);
  opacity:.9;
  padding:.35rem .45rem;
  border-radius:8px;
}
.social-icons a:hover{ background: rgba(0,0,0,.08); }

/* Optional subtle divider below header */
.masthead + .nav-band{ box-shadow: inset 0 1px 0 rgba(255,255,255,.25); }

/* ========================================================
   Code / tables / gist
   ======================================================== */
code, pre { font-family: "Source Code Pro", monospace; }
code{ padding:.25em .5em; font-size:.8rem; background:#f5f5f5; border-radius:3px; }
pre{
  display:block; margin-top:0; margin-bottom:1rem; padding:1rem;
  font-size:.8rem; line-height:1.4; white-space:pre-wrap; word-break:break-word;
  background:#f5f5f5;
}
pre code{ padding:0; font-size:100%; color:inherit; background:transparent; }
.highlight{ margin-bottom:1rem; border-radius:4px; }
.highlight pre{ margin-bottom:0; }
.gist .gist-file{ font-family:"Source Code Pro", monospace !important; }
.gist .markdown-body{ padding:15px; }
.gist pre{ padding:0; background:transparent; }
.gist .gist-file .gist-data{ font-size:.8rem !important; line-height:1.4; }
.gist code{ padding:0; color:inherit; background:transparent; border-radius:0; }
table{ border-collapse:collapse; margin-bottom:30px; width:100%; }
table, th, td{ border:1px solid #000; }
th, td{ padding:15px; text-align:left; }

/* Footer social hover legacy */
.sharing-icons a{ padding-right:10px; }
.fa-envelope, .fa-instagram, .fa-github, .fa-linkedin,
.fa-facebook, .fa-google-plus, .fa-pinterest, .fa-medium, .fa-codepen,
.fa-rss-square{ padding:5px; transition:.5s; }
.fa-envelope:hover{ color:#f39c12; }
.fa-instagram:hover{ color:#375989; }
.fa-github:hover{ color:#343434; }
.fa-linkedin:hover{ color:#0073a4; }
.fa-facebook:hover{ color:#3d5b99; }
.fa-google-plus:hover{ color:#e64a41; }
.fa-pinterest:hover{ color:#bd081c; }
.fa-medium:hover{ color:#00AB6C; }
.fa-codepen:hover{ color:#000; }
.fa-rss-square:hover{ color:#f60; }

/* ========================================================
   Slideshow (reusable)
   ======================================================== */
.slideshow{
  position: relative;
  max-width: 960px;
  margin: 1.25rem auto;
}
.slideshow .slides{
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background: #000;           /* nice backdrop while loading */
}
.slideshow .slide{
  display: none;
  margin: 0;
  position: relative;
}
.slideshow .slide.is-active{ display: block; }
.slideshow .slide img{
  width: 100%;
  height: auto;
  display: block;
}
.slideshow .slide figcaption{
  position: absolute;
  left: 0; right: 0; bottom: 0;
  padding: .5rem .75rem;
  color: #fff;
  background: rgba(0,0,0,.55);
  font-size: .9rem;
}

/* Prev/Next buttons */
.slideshow .nav{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: 2.25rem; height: 2.25rem;
  border: 0;
  border-radius: 999px;
  background: rgba(0,0,0,.45);
  color: #fff;
  cursor: pointer;
}
.slideshow .nav:hover,
.slideshow .nav:focus{ background: rgba(0,0,0,.7); }
.slideshow .prev{ left: .5rem; }
.slideshow .next{ right: .5rem; }

/* Dots */
.slideshow .dots{
  display: flex;
  gap: .4rem;
  justify-content: center;
  margin-top: .5rem;
}
.slideshow .dots button{
  width: .65rem; height: .65rem;
  border: 0;
  border-radius: 999px;
  background: #d0d0d0;
  cursor: pointer;
}
.slideshow .dots button[aria-selected="true"]{
  background: var(--accent);
}

/* Pause/Play */
.slideshow .pause{
  position: absolute;
  top: .5rem; right: .5rem;
  z-index: 2;
  border: 0;
  padding: .25rem .5rem;
  border-radius: .5rem;
  background: rgba(255,255,255,.92);
  color: #222;
}

/* Motion prefs */
@media (prefers-reduced-motion: reduce){
  .slideshow .slides, .slideshow .slide{ transition: none !important; }
}

/* ===== A11y helper ===== */
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
/* --- no-feather override --- */
.masthead .site-title-link,
.masthead .site-title-link:visited{
  text-shadow: none !important;
}
/* === OVERRIDES: Social icons = solid black on gold === */
.nav-band .social-icons a,
.nav-band .social-icons a:visited{
  color:#000 !important;     /* covers font icons */
  opacity:1 !important;
}

/* Covers SVG, FontAwesome <i>, and other icon elements */
.nav-band .social-icons a svg,
.nav-band .social-icons a i,
.nav-band .social-icons a .fa{
  color:#000 !important;
  fill:#000 !important;
  stroke:#000 !important;
}

.nav-band .social-icons img{
  filter: brightness(0) saturate(100%) !important; /* turns any icon to black */
  opacity:1 !important;
}

/* Slightly darker hover so the black icons still pop */
.nav-band .social-icons a:hover{
  background: rgba(0,0,0,.12) !important;
}
/* === 1) Social icons: force solid black on the gold bar === */
.nav-band .social-icons a,
.nav-band .social-icons a:visited{
  color:#000 !important;
  opacity:1 !important;
  display:inline-flex;
  align-items:center;
}

.nav-band .social-icons a i.fa,
.nav-band .social-icons a .fa{
  color:#000 !important;             /* Font Awesome */
}


.nav-band .social-icons a:hover {
  background: rgba(0,0,0,.12) !important;
}
/* --- Dropdown: wider hit-area on parent --- */
.nav-band .dropdown {
  position: relative;
  padding-block: 2px;                 /* tiny cushion around the parent */
}
.nav-band .dropdown > .menu-link,
.nav-band .dropdown > .parent-link {
  padding: .6rem .8rem;               /* bigger target */
}

/* --- Desktop: default left align; auto-flip class aligns to right --- */
@media (min-width: 761px){
  .nav-band .dropdown-content{
    left: 0; right: auto;             /* normal (left-aligned) */
    top: calc(100% + 8px);
    margin: 0;
  }
  /* when JS adds .align-right, pin to the right so it doesn't overflow */
  .nav-band .dropdown.align-right > .dropdown-content{
    left: auto; right: 0;
  }

  /* keep menu open while mouse passes the 8px gap */
  .nav-band .dropdown-content::before{
    content: "";
    position: absolute;
    left: 0; right: 0; top: -8px; height: 8px;
  }
}

/* --- Mobile  --- */
@media (max-width:760px){
  .nav-band .dropdown-content{
    max-height: min(70vh, 28rem);
    overflow: auto;                    /* prevent off-screen on very small phones */
  }
}


/* Ensure masthead stays a solid blue bar */
.masthead { background: var(--ucb-blue) !important; box-shadow:none !important; }

/* Ensure dropdowns can escape their parents */
.nav-band,
.nav-band .menu { overflow: visible; }

/* Let panels be wide but never exceed viewport */
@media (min-width:761px){
  .nav-band .dropdown-content{
    max-width: min(92vw, 32rem);
    z-index: 1000;                 /* stay on top */
  }
  /* When JS adds .align-right, pin to right edge of the parent */
  .nav-band .dropdown.align-right > .dropdown-content{
    right: 0; left: auto;
  }
}
/* ===== Publications compact banner ===== */
.pub-hero{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px 14px;
  padding: .55rem .8rem;
  margin: 0 0 .75rem 0;
  background: linear-gradient(0deg, rgba(0,0,0,.02), rgba(0,0,0,.02));
  border: 1px solid var(--border);
  border-radius: 12px;
}

.pub-hero__img{
  width: 56px;               /* smaller avatar */
  height: 56px;
  object-fit: cover;
  border-radius: 10px;        /* subtle rounding (not a circle) */
  box-shadow: 0 4px 10px rgba(0,0,0,.08);
}

.pub-hero__title{
  margin: 0;
  font-size: clamp(1.05rem, .9rem + .6vw, 1.35rem);
  line-height: 1.2;
}
.pub-hero__subtitle{
  margin: 2px 0 0 0;
  color: var(--muted);
  font-size: .95rem;
  font-family: "Quattrocento Sans", sans-serif;
}

.scholar-btn{
  justify-self: end;
  text-decoration: none;
  font-weight: 800;
  padding: .42rem .65rem;
  border-radius: 8px;
  background: var(--ucb-blue);
  color: #fff;
  border: 1px solid rgba(0,0,0,.06);
  white-space: nowrap;
}
.scholar-btn:hover{ background: var(--ucb-blue-600); color:#fff; }

/* Ultra-compact on phones */
@media (max-width: 640px){
  .pub-hero{
    grid-template-columns: auto 1fr;
    grid-template-areas:
      "img title"
      "btn subtitle";
    row-gap: 6px;
  }
  .pub-hero__img{ grid-area: img; width: 48px; height: 48px; }
  .pub-hero__text{ grid-area: title; }
  .pub-hero__subtitle{ grid-area: subtitle; }
  .scholar-btn{ grid-area: btn; justify-self: start; }
}

/* ========================================================
   Bio page: image float + favorite grass / contact split
   ======================================================== */

/* Float the top portrait on the bio page */
.person-img.right {
  float: right;
  margin-left: 1rem;
  max-width: 320px;
}
.person:after {
  content: "";
  display: table;
  clear: both;
}

/* Favorite grass (left) + contact text (right) */
.favorite-split {
  display: grid;
  grid-template-columns: 1fr 2fr;  /* image left, text right */
  gap: 1rem;
  align-items: start;
  margin: 1.5rem 0 0;
}

.favorite-plant {
  margin: 0;
  text-align: center;
}

.favorite-plant img {
  display: block;
  width: 100%;
  height: auto;
  max-width: 360px;                 /* keep it small-ish */
  border-radius: 12px;
  box-shadow: 0 4px 14px rgba(0,0,0,.08);
  margin-inline: auto;              /* center if narrower than column */
}

.favorite-plant figcaption {
  font-size: .9rem;
  color: var(--muted, #666);
  margin-top: .5rem;
}

.contact-card {
  background: var(--accent-bg, rgba(0,50,98,.10));
  border: 1px solid var(--border, rgba(0,0,0,.06));
  border-radius: 14px;
  padding: 1rem 1.25rem;
}

/* Stack neatly on phones */
@media (max-width: 760px){
  .favorite-split { grid-template-columns: 1fr; }
  .favorite-plant img { margin: 0 auto; }
}
/* --- Bio: tighten image sizing/spacing and style the img itself --- */
.person-img.right{
  float: right;
  /* size that stays small on wide screens and doesn’t shrink too tiny */
  width: clamp(220px, 28vw, 340px);
  margin: 0 0 .85rem 1.25rem;  /* bottom + left gap from paragraphs */
}
.person-img img{
  display:block;
  width:100%;
  height:auto;
  border-radius:12px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}
article.person p:first-of-type{ margin-top: 0; }

/* ensure the rule inside the article doesn't overlap the float */
article.person hr{ clear: both; }

/* stack the portrait nicely on phones */
@media (max-width: 800px){
  .person-img.right{
    float:none;
    margin: 0 auto 1rem;
    width: min(92%, 420px);
  }
}

/* --- Favorite plant  --- */
.favorite-split{
  grid-template-columns: 1fr 1.25fr;   /* slightly wider text column */
  gap: 1.25rem;
}
.favorite-plant{ justify-self: start; } 

/* Center a section's first heading only */
section > :is(h2,h3,h4):first-child,
.section > :is(h2,h3,h4):first-child,
.research-section > :is(h2,h3,h4):first-child {
  text-align: center;
  margin-inline: auto;
}


